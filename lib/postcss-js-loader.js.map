{"version":3,"sources":["webpack:///webpack/bootstrap 319c8bcb9db3ef7de90a","webpack:///./index.js","webpack:///external \"loaderUtils\"","webpack:///external \"postcss\"","webpack:///external \"postcssJs\"","webpack:///external \"NodeTemplatePlugin\"","webpack:///external \"NodeTargetPlugin\"","webpack:///external \"LibraryTemplatePlugin\"","webpack:///external \"SingleEntryPlugin\"","webpack:///external \"LimitChunkCountPlugin\""],"names":[],"mappings":"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","file":"postcss-js-loader.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 319c8bcb9db3ef7de90a\n **/","/*\n * References:\n * - PostCSS Loader: https://github.com/postcss/postcss-loader/blob/1ab50d/index.js\n * - CSS-in-JS Loader: https://github.com/nthtran/css-in-js-loader/blob/934458/index.js\n */\n\nimport loaderUtils from 'loader-utils'\nimport postcss from 'postcss'\nimport postcssJs from 'postcss-js'\nimport NodeTemplatePlugin from 'webpack/lib/node/NodeTemplatePlugin'\nimport NodeTargetPlugin from 'webpack/lib/node/NodeTargetPlugin'\nimport LibraryTemplatePlugin from 'webpack/lib/LibraryTemplatePlugin'\nimport SingleEntryPlugin from 'webpack/lib/SingleEntryPlugin'\nimport LimitChunkCountPlugin from 'webpack/lib/optimize/LimitChunkCountPlugin'\n\nconst getRootCompilation = loader => {\n  let compiler = loader._compiler\n  let compilation = loader._compilation\n  while (compiler.parentCompilation) {\n    compilation = compiler.parentCompilation\n    compiler = compilation.compiler\n  }\n\n  return compilation\n}\n\nconst produce = (loader, request, processor, callback) => {\n  const outputFilename = 'postcss-js-output-filename'\n  const outputOptions = {filename: outputFilename}\n  const childCompiler = getRootCompilation(loader)\n    .createChildCompiler('postcss-js-compiler', outputOptions)\n  childCompiler.apply(new NodeTemplatePlugin(outputOptions))\n  childCompiler.apply(new LibraryTemplatePlugin(null, 'commonjs2'))\n  childCompiler.apply(new NodeTargetPlugin())\n  childCompiler.apply(new SingleEntryPlugin(loader.context, `!!${ request }`))\n  childCompiler.apply(new LimitChunkCountPlugin({maxChunks: 1}))\n\n  const subCache = `subcache ${ __dirname } ${ request }`\n  childCompiler.plugin('compilation', compilation => {\n    if (compilation.cache) {\n      if (!compilation.cache[subCache]) {\n        compilation.cache[subCache] = {}\n      }\n\n      compilation.cache = compilation.cache[subCache]\n    }\n  })\n\n  // We set loaderContext[__dirname] = false to indicate we already in\n  // a child compiler so we don't spawn another child compilers from there.\n  childCompiler.plugin('this-compilation', compilation => {\n    compilation.plugin('normal-module-loader', loaderContext => {\n      loaderContext[__dirname] = false\n    })\n  })\n\n  let source = null\n  childCompiler.plugin('after-compile', (compilation, callback) => {\n    source = compilation.assets[outputFilename] && compilation.assets[outputFilename].source()\n\n    // Remove all chunk assets\n    compilation.chunks.forEach(chunk => {\n      chunk.files.forEach(file => {\n        delete compilation.assets[file]\n      })\n    })\n\n    callback()\n  })\n\n  childCompiler.runAsChild((error, entries, compilation) => {\n    if (error) {\n      return callback(error)\n    }\n\n    if (compilation.errors.length > 0) {\n      return callback(compilation.errors[0])\n    }\n\n    if (!source) {\n      return callback(new Error('Didn\\'t get a result from child compiler'))\n    }\n\n    compilation.fileDependencies.forEach(dep => {\n      loader.addDependency(dep)\n    })\n\n    compilation.contextDependencies.forEach(dep => {\n      loader.addContextDependency(dep)\n    })\n\n    let module = null\n    try {\n      module = loader.exec(source, request)\n      if (module.__esModule && module.default) {\n        module = module.default\n      }\n    } catch (e) {\n      return callback(e)\n    }\n\n    if (!module) {\n      return callback()\n    }\n\n    processor(module)\n      .then(res => callback(null, res.css))\n      .catch(callback)\n\n    return void 0\n  })\n}\n\nmodule.exports = function(content, map) {\n  if (this.cacheable) {\n    this.cacheable()\n  }\n\n  const file = this.resourcePath\n  const query = loaderUtils.parseQuery(this.query)\n  const opts = {\n    parser: postcssJs,\n    from: file,\n    to: file,\n    map: {\n      inline: false,\n      annotation: false,\n    },\n  }\n\n  if (typeof map === 'string') {\n    map = JSON.parse(map)\n  }\n\n  if (map && map.mappings) {\n    opts.map.prev = map\n  }\n\n  let options = this.options.postcss\n  if (typeof options === 'function') {\n    options = options.call(this, this)\n  }\n\n  let plugins = null\n  if (typeof options === 'undefined') {\n    plugins = []\n  } else if (Array.isArray(options)) {\n    plugins = options\n  } else {\n    plugins = options.plugins || options.defaults\n  }\n\n  if (query.pack) {\n    plugins = options[query.pack]\n    if (!plugins) {\n      throw new Error('PostCSS plugin pack is not defined in options')\n    }\n  }\n\n  const request = this.request\n    .split('!')\n    .slice(this.loaderIndex + 1)\n    .join('!')\n\n  const processor = obj => postcss(plugins).process(obj, opts)\n  produce(this, request, processor, this.async())\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","module.exports = require(\"loaderUtils\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"loaderUtils\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"postcss\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"postcss\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = require(\"postcssJs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"postcssJs\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"NodeTemplatePlugin\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"NodeTemplatePlugin\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = require(\"NodeTargetPlugin\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"NodeTargetPlugin\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = require(\"LibraryTemplatePlugin\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"LibraryTemplatePlugin\"\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = require(\"SingleEntryPlugin\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"SingleEntryPlugin\"\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = require(\"LimitChunkCountPlugin\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"LimitChunkCountPlugin\"\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}